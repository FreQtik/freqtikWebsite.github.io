<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FreQtik</title>
  <link rel="icon" type="image/png" href="QLogoPNGBlack_17x30.png">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;600&display=swap" rel="stylesheet">
  <meta name="description" content="FreQtik — games, music, tools. Create experiences & find solutions.">
  <style>
    :root {
      --bg: #fff;
      --text: #000;
      --line: #e0e0e0;
      --shadow: rgba(0,0,0,0.08);
      --header-height: 200px;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Manrope',sans-serif; }
    html {
      background:var(--bg); color:var(--text);
      overflow-x:hidden; scroll-behavior:smooth;
      scroll-padding-top:var(--header-height);
    }
    body { overflow-x:hidden; }

    /* INTRO */
    .intro {
      position:fixed; inset:0;
      background:var(--bg);
      display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      z-index:9999;
      transition:opacity 1.5s,filter 1.5s;
    }
    .intro.hidden { opacity:0; filter:blur(8px); pointer-events:none; }
    .intro img { width:300px; max-width:90vw; }
    .intro p { margin-top:10px; font-size:18px; font-style:italic; opacity:0.5; }

    /* HEADER & TOGGLE */
    #menuToggle {
      position:fixed; top:10px; left:10px;
      z-index:200; background:none; border:none;
      font-size:24px; display:none; cursor:pointer;
    }
    header {
      position:fixed; top:0; left:0; right:0;
      background:var(--bg); z-index:100;
      box-shadow:0 4px 10px var(--shadow);
      transition:transform 0.3s;
      overflow:visible;
    }
    .logo-container {
      height:150px; border-bottom:1px solid var(--line);
      display:flex; justify-content:center; align-items:center;
    }
    .logo-container img {
      height:120px; transition:transform 0.4s; will-change:transform;
    }

    /* NAV */
    nav {
      display:flex; justify-content:center;
      padding:20px 0; border-bottom:1px solid var(--line);
      overflow:visible;
    }
    nav ul {
      display:flex; gap:40px; list-style:none; align-items:center;
    }
    nav ul li { position:relative; }
    nav ul li button, nav ul li a.nav-link {
      background:none; border:none; font-weight:600;
      font-size:16px; color:var(--text);
      padding:8px 16px; cursor:pointer;
      transition:transform 0.2s;
      text-decoration:none;
    }
    nav ul li button:hover, nav ul li a.nav-link:hover { transform:scale(1.05); }
    nav ul li button::after, nav ul li a.nav-link::after {
      content:""; position:absolute; bottom:0; left:0;
      width:100%; height:1px; background:var(--text);
      transform:scaleX(0); transform-origin:right;
      transition:transform 0.3s;
    }
    nav ul li button:hover::after, nav ul li a.nav-link:hover::after {
      transform:scaleX(1); transform-origin:left;
    }

    /* DROPDOWNS */
    .dropdown-content {
      display:none; position:absolute; top:100%; left:0;
      background:var(--bg); border:1px solid var(--line);
      padding:10px 15px; min-width:180px;
      box-shadow:0 4px 8px var(--shadow); z-index:999;
      white-space:nowrap;
    }
    nav ul li.dropdown:last-child .dropdown-content { left:auto; right:0; }
    @media (min-width:601px) {
      .dropdown:hover .dropdown-content { display:block; animation:fadeIn 0.3s; }
    }
    .dropdown-open .dropdown-content { display:block; animation:fadeIn 0.3s; }
    .dropdown-content a {
      display:block; margin-bottom:12px;
      text-decoration:none; color:var(--text);
      font-size:16px; transition:transform 0.2s;
    }
    .dropdown-content a:last-child { margin-bottom:0; }
    .dropdown-content a:hover { transform:rotate(2.5deg); }

    @keyframes fadeIn { from{opacity:0;transform:translateY(-5px);} to{opacity:1;transform:translateY(0);} }

    /* CONTENT */
    .content-container { padding-top:var(--header-height); }
    .responsive-iframe { display:block; width:100%; max-width:600px; height:300px; border:none; }
    section {
      padding:60px 20px; max-width:900px; margin:auto;
      border-bottom:1px solid var(--line);
      opacity:0; transform:translateY(30px);
      animation:slideIn 0.6s ease forwards;
    }
    @keyframes slideIn { from{opacity:0;transform:translateY(30px);} to{opacity:1;transform:translateY(0);} }
    section h2 { margin-bottom:20px; font-size:28px; border-bottom:1px solid var(--line); padding-bottom:5px; }
    section p, section ul { font-size:16px; line-height:1.6; }
    section ul { list-style:inside; }
    .flex-container {
      display:flex; gap:20px; flex-wrap:wrap; justify-content:center; margin-top:20px;
    }
    .flex-container a {
      display:flex; align-items:center; gap:8px; text-decoration:none; font-size:16px; color:var(--text);
      padding:6px 12px; border-bottom:1px solid transparent; transition:border-color 0.3s;
    }
    .flex-container a:hover { border-bottom:1px solid var(--text); }
    .social-icon { width:20px; height:20px; }

    /* FOOTER */
    footer { padding:24px 16px; text-align:center; font-size:14px; color:#555; }
    footer a { color:inherit; text-decoration:none; border-bottom:1px solid transparent; }
    footer a:hover { border-bottom-color:#888; }

    /* MOBILE */
    @media (max-width:600px) {
      :root { --header-height:150px; }
      html { font-size:90%; }
      nav ul { flex-wrap:wrap; gap:10px; }
      nav ul li { flex:1 1 30%; text-align:center; }
      nav ul li button, nav ul li a.nav-link { padding:8px; font-size:14px; }
      .dropdown-content { width:auto; margin-top:10px; text-align:center; }
    }
  </style>

  <!-- Organization JSON-LD (filled) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "FreQtik",
    "url": "https://freqtik.com",
    "logo": "https://freqtik.com/FreQtikBlackLogo.png",
    "email": "mailto:freqtiksup@gmail.com",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Wilhelm Leuschner Str. 93",
      "postalCode": "63263",
      "addressLocality": "Neu Isenburg",
      "addressCountry": "DE"
    },
    "sameAs": [
      "https://www.youtube.com/@FreQtik",
      "https://www.instagram.com/freqtik/",
      "https://open.spotify.com/artist/7sbdoA5VGDrbEjY3AngmgK"
    ]
  }
  </script>
</head>
<body>

  <button id="menuToggle" aria-label="Open menu" title="Open menu">☰</button>

  <div class="intro" id="intro" aria-hidden="true">
    <img src="FreQtikBlackLogo.png" alt="FreQtik Logo" />
    <p>create experiences & find solutions.</p>
  </div>

  <header id="mainHeader" role="banner">
    <div class="logo-container">
      <img src="FreQtikBlackLogo.png" id="scrollLogo" alt="FreQtik Logo">
    </div>
    <nav role="navigation" aria-label="Main">
      <ul>
        <li><button onclick="loadFeed('about')" type="button">About</button></li>
        <li class="dropdown">
          <button onclick="toggleDropdown(this)" type="button" aria-haspopup="true" aria-expanded="false">Games</button>
          <div class="dropdown-content" role="menu" aria-label="Games">
            <a href="#" onclick="loadFeed('ltb');closeDropdowns();return false;">Learning to Bear</a>
            <a href="#" onclick="loadFeed('aim');closeDropdowns();return false;">Aim Trainer Bee Pro</a>
            <a href="aimgame.html" onclick="closeDropdowns()">UFO Clicker</a>
          </div>
        </li>
        <li class="dropdown">
          <button onclick="toggleDropdown(this)" type="button" aria-haspopup="true" aria-expanded="false">Music</button>
          <div class="dropdown-content" role="menu" aria-label="Music">
            <a href="#" onclick="loadFeed('youtube');closeDropdowns();return false;">YouTube</a>
            <a href="#" onclick="loadFeed('spotify');closeDropdowns();return false;">Spotify</a>
          </div>
        </li>
        <li><button onclick="loadFeed('downloads')" type="button">Downloads</button></li>
        <li><button onclick="loadFeed('socials')" type="button">Connect</button></li>
        <li><a class="nav-link" href="#" onclick="loadFeed('impressum');return false;">Impressum</a></li>
      </ul>
    </nav>
  </header>

  <div class="content-container" id="mainContent" role="main"></div>

  <footer role="contentinfo">
    <div>© <span id="yearSpan"></span> FreQtik. All rights reserved. ·
      <a href="#" onclick="loadFeed('impressum');return false;">Impressum / Legal Notice</a> ·
      <a href="/privacy.html">Privacy / Datenschutz</a> ·
      <a href="/terms.html">Terms / AGB</a>
    </div>
  </footer>

  <script>
    "use strict";

    /**
     * steam app IDs (immutable)
     * @type {{ ltb: number, aim: number }}
     */
    const STEAM_IDS = Object.freeze({ ltb:2789890, aim:3666950 });

    /** @type {HTMLDivElement} */
    const introEl   = /** @type {HTMLDivElement} */(document.getElementById('intro'));
    /** @type {HTMLElement} */
    const headerEl  = /** @type {HTMLElement} */(document.getElementById('mainHeader'));
    /** @type {HTMLButtonElement} */
    const toggleBtn = /** @type {HTMLButtonElement} */(document.getElementById('menuToggle'));
    /** @type {HTMLElement} */
    const mainEl    = /** @type {HTMLElement} */(document.getElementById('mainContent'));

    let lastY = window.scrollY;

    /**
     * Toggle a dropdown open/close
     * @param {HTMLElement} btn
     */
    function toggleDropdown(btn) {
      const li = btn.parentElement;
      if (!li) return;
      const isOpen = li.classList.toggle('dropdown-open');
      btn.setAttribute('aria-expanded', String(isOpen));
      document.querySelectorAll('nav .dropdown').forEach(d => {
        if (d !== li) {
          d.classList.remove('dropdown-open');
          const b = d.querySelector('button');
          if (b) b.setAttribute('aria-expanded', 'false');
        }
      });
    }

    /** Close all dropdowns (no-op if none open) */
    function closeDropdowns() {
      document.querySelectorAll('nav .dropdown').forEach(d => {
        d.classList.remove('dropdown-open');
        const b = d.querySelector('button');
        if (b) b.setAttribute('aria-expanded', 'false');
      });
    }

    /**
     * Render a section by logical feed key
     * @param {'about'|'ltb'|'aim'|'youtube'|'spotify'|'downloads'|'socials'|'impressum'} feed
     */
    function loadFeed(feed){
      try {
        let html = '';
        switch(feed){
          case 'about':
            html = `<section id="about"><h2>About FreQtik</h2><p>Creator with passions in game dev, music production, tool creation, and more. Welcome to my digital space—where innovative experiences come to life.</p></section>`;
            break;

          case 'ltb': case 'aim': {
            const id = STEAM_IDS[feed];
            html = `<section id="${feed}" class="depth-effect">
              <h2>${feed==='ltb'?'Learning to Bear':'Aim Trainer Bee Pro'}</h2>
              <iframe class="responsive-iframe" src="https://store.steampowered.com/widget/${id}/" frameborder="0" loading="lazy" title="Steam widget ${id}"></iframe>
              <div id="steam-${feed}"><p>Loading details…</p></div>
            </section>`;
            setTimeout(()=>fetchSteam(feed,id),0);
            break;
          }

          case 'youtube':
            html = `<section id="youtube" class="depth-effect">
              <h2>YouTube Channel</h2>
              <div class="flex-container">
                <a href="https://www.youtube.com/@FreQtik" target="_blank" rel="noopener noreferrer">
                  <img class="social-icon" src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png" alt="YouTube">Visit Channel
                </a>
              </div>
            </section>`;
            break;

          case 'spotify':
            html = `<section id="spotify" class="depth-effect">
              <h2>Spotify</h2>
              <iframe class="responsive-iframe" src="https://open.spotify.com/embed/artist/7sbdoA5VGDrbEjY3AngmgK" allow="encrypted-media" loading="lazy" title="Spotify embed"></iframe>
            </section>`;
            break;

          case 'downloads':
            html = `<section id="downloads" class="depth-effect"><h2>Downloads & Tools</h2><p>Coming soon.</p></section>`;
            break;

          case 'socials':
            html = `<section id="socials" class="depth-effect">
              <h2>Connect</h2>
              <div class="flex-container">
                <a href="https://www.instagram.com/freqtik/" target="_blank" rel="noopener noreferrer">
                  <img class="social-icon" src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">Instagram
                </a>
                <a href="https://open.spotify.com/artist/7sbdoA5VGDrbEjY3AngmgK" target="_blank" rel="noopener noreferrer">
                  <img class="social-icon" src="https://upload.wikimedia.org/wikipedia/commons/8/84/Spotify_icon.svg" alt="Spotify">Spotify
                </a>
                <a href="mailto:freqtiksup@gmail.com">
                  <img class="social-icon" src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Mail_%28iOS%29.svg" alt="Email">Email
                </a>
              </div>
            </section>`;
            break;

          /* BILINGUAL IMPRESSUM / LEGAL NOTICE (German governs; English for convenience) */
          case 'impressum':
            html = `<section id="impressum" class="depth-effect">
              <h2>Impressum / Legal Notice</h2>

              <!-- German (binding) -->
              <div lang="de">
                <p><strong>Angaben gemäß § 5 TMG</strong></p>
                <address>
                  <div><strong>FreQtik</strong></div>
                  <div>Maximilian Georg Walla</div>
                  <div>Wilhelm Leuschner Str. 93</div>
                  <div>63263 Neu Isenburg</div>
                  <div>Deutschland</div>
                </address>

                <p><strong>Kontakt</strong><br>
                  E-Mail: <span class="eml" data-user="freqtiksup" data-domain="gmail" data-tld="com">loading…</span>
                </p>

                <p><strong>Verantwortlich für den Inhalt nach § 18 Abs. 2 MStV</strong><br>
                  Maximilian Georg Walla, Wilhelm Leuschner Str. 93, 63263 Neu Isenburg, Deutschland
                </p>

                <h3>Haftungsausschluss, Links, Urheberrecht</h3>
                <p>Als Diensteanbieter sind wir gemäß § 7 Abs. 1 TMG für eigene Inhalte verantwortlich. Nach §§ 8–10 TMG sind wir nicht verpflichtet, fremde Informationen zu überwachen. Bei Kenntnis von Rechtsverletzungen entfernen wir Inhalte/Links umgehend. Inhalte unterliegen dem deutschen Urheberrecht.</p>

                <p><strong>EU-Streitschlichtung</strong><br>
                  Plattform der EU-Kommission: <a href="https://ec.europa.eu/consumers/odr" target="_blank" rel="noopener noreferrer">https://ec.europa.eu/consumers/odr</a>.
                </p>

                <p style="opacity:.7;margin-top:16px;">Stand: 2025-11-07</p>
              </div>

              <hr style="margin:24px 0;border:none;border-top:1px solid var(--line)">

              <!-- English (for convenience; German prevails) -->
              <div lang="en">
                <p><strong>Legal Notice (non-binding translation)</strong></p>
                <address>
                  <div><strong>FreQtik</strong></div>
                  <div>Maximilian Georg Walla</div>
                  <div>Wilhelm Leuschner Str. 93</div>
                  <div>63263 Neu Isenburg</div>
                  <div>Germany</div>
                </address>

                <p><strong>Contact</strong><br>
                  Email: <span class="eml" data-user="freqtiksup" data-domain="gmail" data-tld="com">loading…</span>
                </p>

                <h3>Disclaimer</h3>
                <p>The German version above governs. The English text is for convenience and does not change the legal meaning of the German “Impressum”.</p>

                <p style="opacity:.7">Last updated: 2025-11-07</p>
              </div>
            </section>`;
            break;

          default:
            html = `<section><h2>Not found</h2><p>Sorry, that section doesn't exist.</p></section>`;
        }

        mainEl.innerHTML = html;
        mainEl.scrollIntoView({behavior:'smooth'});
      } catch (err) {
        console.error(err);
        mainEl.innerHTML = `<section><h2>Error</h2><p>Something went wrong loading this section.</p></section>`;
      }
    }

    /**
     * Fetch Steam data via CORS proxy and display
     * @param {'ltb'|'aim'} feed
     * @param {number} id
     * @returns {Promise<void>}
     */
    async function fetchSteam(feed, id){
      const targetId = `steam-${feed}`;
      const container = document.getElementById(targetId);
      if (!container) return;

      try{
        const url = encodeURIComponent(`https://store.steampowered.com/api/appdetails?appids=${id}&cc=US&l=en`);
        const res = await fetch(`https://api.allorigins.win/raw?url=${url}`, { method:'GET' });
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        /** @type {any} */
        const json = await res.json();

        if (!json || !json[id] || !json[id].success) {
          throw new Error('Steam API returned no data.');
        }
        const info = json[id].data;
        const shots = Array.isArray(info?.screenshots)
          ? info.screenshots.map(
              s=>`<img src="${s.path_full}" style="max-width:100%;margin:10px 0;border-radius:4px;" alt="Screenshot">`
            ).join('')
          : '';

        container.innerHTML = `
          <p><strong>${escapeHtml(info?.name ?? 'Unknown')}</strong></p>
          <p>${escapeHtml(info?.short_description ?? '')}</p>
          ${shots}
          <p><a href="https://store.steampowered.com/app/${id}" target="_blank" rel="noopener noreferrer">View on Steam</a></p>
        `;
      }catch(e){
        container.innerHTML = `<p>Error loading Steam details. ${escapeHtml((/** @type {Error} */(e)).message || '')}</p>`;
      }
    }

    /**
     * Simple HTML escape to avoid accidental injection
     * @param {string} str
     * @returns {string}
     */
    function escapeHtml(str){
      return String(str)
        .replaceAll('&','&amp;')
        .replaceAll('<','&lt;')
        .replaceAll('>','&gt;')
        .replaceAll('"','&quot;')
        .replaceAll("'","&#39;");
    }

    // Build clickable emails from data attributes to defeat simple scrapers
    (function(){
      try {
        const nodes = document.querySelectorAll('.eml');
        nodes.forEach(n => {
          const u = n.getAttribute('data-user');
          const d = n.getAttribute('data-domain');
          const t = n.getAttribute('data-tld');
          if (!u || !d || !t) return;
          const addr = `${u}@${d}.${t}`;
          const a = document.createElement('a');
          a.href = `mailto:${addr}`;
          a.rel = 'noopener noreferrer';
          a.textContent = addr;
          n.replaceWith(a);
        });
      } catch {}
    })();

    // menu toggle click
    toggleBtn.addEventListener('click', ()=>{
      headerEl.style.transform='translateY(0)';
      toggleBtn.style.display='none';
    });

    // scroll behavior: hide/show header & toggle, animate logo
    window.addEventListener('scroll', ()=>{
      const y = window.scrollY;
      const hidden = (y>0);
      headerEl.style.transform = hidden ? 'translateY(-100%)' : 'translateY(0)';
      toggleBtn.style.display = hidden ? 'block' : 'none';

      const logo = /** @type {HTMLImageElement} */ (document.getElementById('scrollLogo'));
      if (logo) {
        const max = window.innerWidth - logo.clientWidth - 40;
        const x = Math.sin(y*0.005)*(max/2);
        logo.style.transform = `translateX(${x}px) rotate(${y*0.005}deg)`;
      }
    });

    // persist scroll
    window.addEventListener('beforeunload', ()=> {
      try { sessionStorage.setItem('scrollPos', String(window.scrollY)); } catch {}
    });

    window.addEventListener('load', ()=>{
      // footer year
      const ySpan = document.getElementById('yearSpan');
      if (ySpan) ySpan.textContent = String(new Date().getFullYear());

      try {
        const pos = sessionStorage.getItem('scrollPos');
        if (pos) window.scrollTo(0, parseFloat(pos));
      } catch {}
      loadFeed('about');
      if (window.innerWidth < 600) introEl.classList.add('hidden');
    });

    // dismiss intro on minimal mouse movement
    let moved=0,lx=null,ly=null,done=false;
    document.addEventListener('mousemove',e=>{
      if(done||window.innerWidth<600) return;
      if(lx!==null) moved+=Math.abs(e.clientX-lx)+Math.abs(e.clientY-ly);
      lx=e.clientX; ly=e.clientY;
      if(moved>300){ introEl.classList.add('hidden'); done=true; }
    });
  </script>
</body>
</html>
